/**
 * Plugin Name: Crelly Slider
 * Plugin URI: http://fabiorino1.altervista.org/projects/crellyslider
 * Description: The first free WordPress slider with elements animations.
 * Version: 0.6.8
 * Author: fabiorino
 * Author URI: http://fabiorino1.altervista.org
 * License: GPL2
 */

(function(e){var t=function(t,n){function m(){r.wrapInner('<div class="crellyslider" />');r.find(i+" > ul").addClass("cs-slides");r.find(i+" "+s+" > li").addClass("cs-slide");a=e(r).find(i).find(s).find(o).length;if(a==0){return false}if(a==1){var t=r.find(i).find(s).find(o+":eq(0)");var u=r.find(i).find(s);t.clone().prependTo(u);a++}if(n.showControls){r.find(i).append('<div class="cs-controls"><span class="cs-next"></span><span class="cs-previous"></span></div>')}if(n.showNavigation){var c='<div class="cs-navigation">';for(var h=0;h<a;h++){c+='<span class="cs-slide-link"></span>'}c+="</div>";r.find(i).append(c)}if(n.showProgressBar){r.find(i).append('<div class="cs-progress-bar"></div>')}else{r.find(i).append('<div class="cs-progress-bar cs-progress-bar-hidden"></div>')}r.find(i).find(".cs-controls > .cs-previous").click(function(){l=false;q(_())});r.find(i).find(".cs-controls > .cs-next").click(function(){l=false;q(M())});r.find(i).find(".cs-navigation > .cs-slide-link").click(function(){if(e(this).index()!=f){l=false;q(e(this).index())}});if(n.pauseOnHover){r.find(i).find(s).hover(function(){k()});r.find(i).find(s).mouseleave(function(){L()})}if(n.responsive){e(window).resize(function(){if(v!=e(window).width()&&(n.layout=="full-width"&&A()!=e(r).width()||e(r).width()<A()||e(r).width()>A()&&A()<n.startWidth)){S()}})}w();y();if(document.readyState!="complete"){e(window).load(function(){g()})}else{g()}}function g(){b();v=e(window).width();r.find(i).find(s).find(o).each(function(){e(this).find(u).each(function(){var t=e(this);t.data("width",parseFloat(t.width()));t.data("height",parseFloat(t.height()));t.data("line-height",parseFloat(t.css("line-height")));t.data("letter-spacing",parseFloat(t.css("letter-spacing")));t.data("font-size",parseFloat(t.css("font-size")));t.data("padding-top",parseFloat(t.css("padding-top")));t.data("padding-right",parseFloat(t.css("padding-right")));t.data("padding-bottom",parseFloat(t.css("padding-bottom")));t.data("padding-left",parseFloat(t.css("padding-left")));t.css("display","none")});e(this).css({display:"none"})});n.beforeStart();if(n.responsive){S()}else{N()}}function y(){r.find(i).find(s).css("display","none");r.find(i).find(".cs-progress-bar").css("display","none");r.find(i).find(".cs-navigation").css("display","none");r.find(i).find(".cs-controls").css("display","none");r.find(i).append('<div class="cs-preloader"><div class="cs-loader"></div></div>')}function b(){r.find(i).find(s).css("display","block");r.find(i).find(".cs-progress-bar").css("display","block");r.find(i).find(".cs-navigation").css("display","block");r.find(i).find(".cs-controls").css("display","block");r.find(i).find(".cs-preloader").remove()}function w(){var e=n.layout;var t,u;switch(e){case"fixed":t=n.startWidth;u=n.startHeight;r.find(i).css({width:T(t),height:T(u)});r.find(i).find(s).find(o).css({width:T(t),height:T(u)});break;case"full-width":t=r.width();u=n.startHeight;r.find(i).css({width:t,height:T(u)});r.find(i).find(s).find(o).css({width:t,height:T(u)});break;default:return false;break}}function E(e){var t=(O()-n.startHeight)/2;var r=(A()-n.startWidth)/2;var i=0;var s=0;if(t>0){i=t}if(r>0){s=r}return{top:i,left:s}}function S(){n.beforeSetResponsive();var t=r.find(i).find(s).find(o);C();x();w();t.each(function(){var t=e(this).find(u);t.each(function(){var t=e(this);t.css({width:T(D(t,"width")),height:T(D(t,"height")),top:T(D(t,"top")+E(t).top),left:T(D(t,"left")+E(t).left),"padding-top":T(D(t,"padding-top")),"padding-right":T(D(t,"padding-right")),"padding-bottom":T(D(t,"padding-bottom")),"padding-left":T(D(t,"padding-left"))});if(t.text()!=""){t.css({width:"auto",height:"auto","line-height":T(D(t,"line-height"))+"px","letter-spacing":T(D(t,"letter-spacing")),"font-size":T(D(t,"font-size"))});if(t.width()>0){t.css("width",t.width())}if(t.height()>0){t.css("height",t.height())}}})});v=e(window).width();n.afterSetResponsive();N()}function x(){var e=r.width();var t=n.startWidth;if(e>=t){d=1}else{d=e/t}}function T(e){return e*d}function N(){if(n.automaticSlide){B()}else{U(f)}}function C(){var t=r.find(i).find(s).find(o+":eq("+f+")");var n=t.find(u);r.find(i).find(s).find(o).each(function(){var t=e(this);t.finish();t.find(u).each(function(){var t=e(this);t.finish()})});F();h=false}function k(){var e=r.find(i).find(".cs-progress-bar");e.stop(true);c=true;if(!l){n.beforePause();var t=r.find(i).find(s).find(o+":eq("+f+")");var u=t.children();t.finish();l=true;n.afterPause()}else{var a=setInterval(function(){if(c&&!l){clearInterval(a);c=false;k();return}if(!c){clearInterval(a);return}})}}function L(){n.beforeResume();c=false;var e=r.find(i).find(s).find(o+":eq("+f+")");var t=r.find(i).find(".cs-progress-bar");var u=P(e);var a=u-H(u,p);t.animate({width:"100%"},{duration:a,step:function(e){p=e},complete:function(){q(M())},easing:"linear"});l=false}function A(){return r.find(i).width()}function O(){return r.find(i).height()}function M(){if(f+1==a){return 0}return f+1}function _(){if(f-1<0){return a-1}return f-1}function D(e,t){var r;if(e.parent("ul").hasClass("cs-slides")){r=true}else{r=false}switch(t){case"ease-in":if(r){return isNaN(parseInt(e.data(t)))?n.slidesEaseIn:parseInt(e.data(t))}else{return isNaN(parseInt(e.data(t)))?n.elementsEaseIn:parseInt(e.data(t))}break;case"ease-out":if(r){return isNaN(parseInt(e.data(t)))?n.slidesEaseOut:parseInt(e.data(t))}else{return isNaN(parseInt(e.data(t)))?n.elementsEaseOut:parseInt(e.data(t))}break;case"delay":return isNaN(parseInt(e.data(t)))?n.elementsDelay:parseInt(e.data(t));break;case"time":if(r){return isNaN(parseInt(e.data(t)))?n.slidesTime:parseInt(e.data(t))}else{if(e.data(t)=="all"){return"all"}else{return isNaN(parseInt(e.data(t)))?n.itemsTime:parseInt(e.data(t))}}break;case"top":case"left":case"width":case"height":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"line-height":case"letter-spacing":case"font-size":return isNaN(parseFloat(e.data(t)))?0:parseFloat(e.data(t));break;case"in":case"out":return e.data(t);break;default:return false;break}}function P(e){return D(e,"time")+D(e,"ease-in")}function H(e,t){return t/100*e}function B(){R(f).done(function(){if(!l){f=M();C();B()}})}function j(e){var t=P(e);var n=r.find(i).find(".cs-progress-bar");F();n.animate({width:"100%"},{duration:t,step:function(e){p=e},easing:"linear"})}function F(){var e=r.find(i).find(".cs-progress-bar");p=0;e.stop();e.css({width:"0%"})}function I(){var t=r.find(i).find(".cs-navigation");var n=t.find("> .cs-slide-link");n.each(function(){var t=e(this);if(t.index()==f){t.addClass("cs-active")}else{t.removeClass("cs-active")}})}function q(e){var t=r.find(i).find(s).find(o+":eq("+f+")");var n=t.children();C();z(f,false);f=e;N()}function R(t){n.beforeSlideStart();var u=r.find(i).find(s).find(o+":eq("+t+")");var a=new e.Deferred;j(u);I();U(t).done(function(){h=true});z(t,true).done(function(){n.afterSlideEnd();a.resolve()});return a.promise()}function U(t){var n=r.find(i).find(s).find(o+":eq("+t+")");var u=n.children();var a=0;var f=new e.Deferred;in_dealy=false;W(n).done(function(){a++;if(a==2){f.resolve()}});u.each(function(){var t=e(this);V(t)}).promise().done(function(){a++;if(a==2){f.resolve()}});return f.promise()}function z(t,n){var u=r.find(i).find(s).find(o+":eq("+t+")");var a=u.children();var f=D(u,"time");var l=new e.Deferred;if(n){a.each(function(){var t=e(this);var n=D(t,"time");if(n!="all"){t.delay(n).queue(function(){e(this).dequeue();J(t)})}});u.delay(f).queue(function(){e(this).dequeue();h=false;l.resolve();X(u).done(function(){});a.each(function(){var t=e(this);var n=D(t,"time");if(n=="all"){t.delay(n).queue(function(){e(this).dequeue();J(t)})}})})}else{l.resolve();a.each(function(){var t=e(this);J(t)});X(u).done(function(){})}return l.promise()}function W(t){var n=D(t,"in");var r=D(t,"ease-in");var i=new e.Deferred;switch(n){case"fade":t.css({display:"block",top:0,left:0,opacity:0});t.animate({opacity:1},r,function(){i.resolve()});break;case"fadeLeft":t.css({display:"block",top:0,left:A(),opacity:0});t.animate({opacity:1,left:0},r,function(){i.resolve()});break;case"fadeRight":t.css({display:"block",top:0,left:-A(),opacity:0});t.animate({opacity:1,left:0},r,function(){i.resolve()});break;case"slideLeft":t.css({display:"block",top:0,left:A()});t.animate({left:0},r,function(){i.resolve()});break;case"slideRight":t.css({display:"block",top:0,left:-A()});t.animate({left:0},r,function(){i.resolve()});break;case"slideUp":t.css({display:"block",top:O(),left:0});t.animate({top:0},r,function(){i.resolve()});break;case"slideDown":t.css({display:"block",top:-O(),left:0});t.animate({top:0},r,function(){i.resolve()});break;default:t.css({display:"block",top:0,left:0});i.resolve();break}return i.promise()}function X(t){var n=D(t,"out");var r=D(t,"ease-out");var i=new e.Deferred;switch(n){case"fade":t.animate({opacity:0},r,function(){t.css({display:"none",opacity:1});i.resolve()});break;case"fadeLeft":t.animate({opacity:0,left:-A()},r,function(){t.css({display:"none",opacity:1,left:0});i.resolve()});break;case"fadeRight":t.animate({opacity:0,left:A()},r,function(){t.css({display:"none",opacity:1,left:0});i.resolve()});break;case"slideLeft":t.animate({left:-A()},r,function(){t.css({display:"none",left:0});i.resolve()});break;case"slideRight":t.animate({left:A()},r,function(){t.css({display:"none",left:0});i.resolve()});break;case"slideUp":t.animate({top:-O()},r,function(){t.css({display:"none",top:0});i.resolve()});break;case"slideDown":t.animate({top:O()},r,function(){t.css({display:"none",top:0});i.resolve()});break;default:t.css({display:"none"});i.resolve();break}return i.promise()}function V(e){var t=e.outerWidth();var n=e.outerHeight();var r=D(e,"in");var i=D(e,"ease-in");var s=D(e,"delay");var o=D(e,"top");var u=D(e,"left");switch(r){case"slideDown":e.delay(s).css({display:"block",top:-n,left:T(u+E(e).left)}).animate({top:T(o+E(e).top)},i);break;case"slideUp":e.delay(s).css({display:"block",top:O(),left:T(u+E(e).left)}).animate({top:T(o+E(e).top)},i);break;case"slideLeft":e.delay(s).css({display:"block",top:T(o+E(e).top),left:A()}).animate({left:T(u+E(e).left)},i);break;case"slideRight":e.delay(s).css({display:"block",top:T(o+E(e).top),left:-t}).animate({left:T(u+E(e).left)},i);break;case"fade":e.delay(s).css({display:"block",top:T(o+E(e).top),left:T(u+E(e).left),opacity:0}).animate({opacity:1},i);break;case"fadeDown":e.delay(s).css({display:"block",top:-n,left:T(u+E(e).left),opacity:0}).animate({top:T(o+E(e).top),opacity:1},i);break;case"fadeUp":e.delay(s).css({display:"block",top:O(),left:T(u+E(e).left),opacity:0}).animate({top:T(o+E(e).top),opacity:1},i);break;case"fadeLeft":e.delay(s).css({display:"block",top:T(o+E(e).top),left:A(),opacity:0}).animate({left:T(u+E(e).left),opacity:1},i);break;case"fadeRight":e.delay(s).css({display:"block",top:T(o+E(e).top),left:-t,opacity:0}).animate({left:T(u+E(e).left),opacity:1},i);break;case"fadeSmallDown":e.delay(s).css({display:"block",top:T(o+E(e).top-30),left:T(u+E(e).left),opacity:0}).animate({top:T(o+E(e).top),opacity:1},i);break;case"fadeSmallUp":e.delay(s).css({display:"block",top:T(o+E(e).top+30),left:T(u+E(e).left),opacity:0}).animate({top:T(o+E(e).top),opacity:1},i);break;case"fadeSmallLeft":e.delay(s).css({display:"block",top:T(o+E(e).top),left:T(u+E(e).left+30),opacity:0}).animate({left:T(u+E(e).left),opacity:1},i);break;case"fadeSmallRight":e.delay(s).css({display:"block",top:T(o+E(e).top),left:T(u+E(e).left-30),opacity:0}).animate({left:T(u+E(e).left),opacity:1},i);break}}function J(e){var t=e.outerWidth();var n=e.outerHeight();var r=D(e,"top");var i=D(e,"left");var s=D(e,"out");var o=D(e,"ease-out");switch(s){case"slideDown":e.animate({top:O()},o,function(){e.css({display:"none"})});break;case"slideUp":e.animate({top:-n},o,function(){e.css({display:"none"})});break;case"slideLeft":e.animate({left:-t},o,function(){e.css({display:"none"})});break;case"slideRight":e.animate({left:A()},o,function(){e.css({display:"none"})});break;case"fade":e.animate({opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeDown":e.animate({top:O(),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeUp":e.animate({top:-n,opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeLeft":e.animate({left:-t,opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeRight":e.animate({left:A(),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallDown":e.animate({top:T(D(e,"top")+E(e).top+30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallUp":e.animate({top:T(D(e,"top")+E(e).top-30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallLeft":e.animate({left:T(D(e,"left")+E(e).left-30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallRight":e.animate({left:T(D(e,"left")+E(e).left+30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break}}var r=e(t);var i="div.crellyslider";var s="ul.cs-slides";var o="li.cs-slide";var u="> *";var a;var f=0;var l=false,c=false;var h=false;var p=0;var d=1;var v=0;m()};e.fn.crellySlider=function(n){var r=e.extend({layout:"fixed",responsive:true,startWidth:1170,startHeight:500,pauseOnHover:true,automaticSlide:true,showControls:true,showNavigation:true,showProgressBar:true,slidesTime:3e3,elementsDelay:0,elementsTime:"all",slidesEaseIn:300,elementsEaseIn:300,slidesEaseOut:300,elementsEaseOut:300,beforeStart:function(){},beforeSetResponsive:function(){},afterSetResponsive:function(){},beforeSlideStart:function(){},afterSlideEnd:function(){},beforePause:function(){},afterPause:function(){},beforeResume:function(){}},n);return this.each(function(){new t(this,r)})}})(jQuery)