/**
 * Plugin Name: Crelly Slider
 * Plugin URI: http://fabiorino1.altervista.org/projects/crellyslider
 * Description: The first free WordPress slider with elements animations.
 * Version: 0.6.6
 * Author: fabiorino
 * Author URI: http://fabiorino1.altervista.org
 * License: GPL2
 */

(function(e){var t=function(t,n){function v(){r.wrapInner('<div class="crellyslider" />');r.find(i+" > ul").addClass("cs-slides");r.find(i+" "+s+" > li").addClass("cs-slide");a=e(r).find(i).find(s).find(o).length;if(a==0){return false}if(a==1){var t=r.find(i).find(s).find(o+":eq(0)");var u=r.find(i).find(s);t.clone().prependTo(u);a++}if(n.showControls){r.find(i).append('<div class="cs-controls"><span class="cs-next"></span><span class="cs-previous"></span></div>')}if(n.showNavigation){var c='<div class="cs-navigation">';for(var h=0;h<a;h++){c+='<span class="cs-slide-link"></span>'}c+="</div>";r.find(i).append(c)}if(n.showProgressBar){r.find(i).append('<div class="cs-progress-bar"></div>')}else{r.find(i).append('<div class="cs-progress-bar cs-progress-bar-hidden"></div>')}r.find(i).find(".cs-controls > .cs-previous").click(function(){l=false;I(M())});r.find(i).find(".cs-controls > .cs-next").click(function(){l=false;I(O())});r.find(i).find(".cs-navigation > .cs-slide-link").click(function(){if(e(this).index()!=f){l=false;I(e(this).index())}});if(n.pauseOnHover){r.find(i).find(s).hover(function(){C()});r.find(i).find(s).mouseleave(function(){k()})}if(n.responsive){e(window).resize(function(){E()})}b();g();if(document.readyState!="complete"){e(window).load(function(){m()})}else{m()}}function m(){y();r.find(i).find(s).find(o).each(function(){e(this).find(u).each(function(){var t=e(this);t.data("width",parseFloat(t.width()));t.data("height",parseFloat(t.height()));t.data("line-height",parseFloat(t.css("line-height")));t.data("letter-spacing",parseFloat(t.css("letter-spacing")));t.data("font-size",parseFloat(t.css("font-size")));t.data("padding-top",parseFloat(t.css("padding-top")));t.data("padding-right",parseFloat(t.css("padding-right")));t.data("padding-bottom",parseFloat(t.css("padding-bottom")));t.data("padding-left",parseFloat(t.css("padding-left")));t.css("display","none")});e(this).css({display:"none"})});if(n.responsive){E()}else{T()}}function g(){r.find(i).find(s).css("display","none");r.find(i).find(".cs-progress-bar").css("display","none");r.find(i).find(".cs-navigation").css("display","none");r.find(i).find(".cs-controls").css("display","none");r.find(i).append('<div class="cs-preloader"><div class="cs-loader"></div></div>')}function y(){r.find(i).find(s).css("display","block");r.find(i).find(".cs-progress-bar").css("display","block");r.find(i).find(".cs-navigation").css("display","block");r.find(i).find(".cs-controls").css("display","block");r.find(i).find(".cs-preloader").remove()}function b(){var e=n.layout;var t,u;switch(e){case"fixed":t=n.startWidth;u=n.startHeight;r.find(i).css({width:x(t),height:x(u)});r.find(i).find(s).find(o).css({width:x(t),height:x(u)});break;case"full-width":t=r.width();u=n.startHeight;r.find(i).css({width:t,height:x(u)});r.find(i).find(s).find(o).css({width:t,height:x(u)});break;default:return false;break}}function w(e){var t=(A()-n.startHeight)/2;var r=(L()-n.startWidth)/2;var i=0;var s=0;if(t>0){i=t}if(r>0){s=r}return{top:i,left:s}}function E(){var t=r.find(i).find(s).find(o);N();S();b();t.each(function(){var t=e(this).find(u);t.each(function(){var t=e(this);t.css({width:x(_(t,"width")),height:x(_(t,"height")),top:x(_(t,"top")+w(t).top),left:x(_(t,"left")+w(t).left),"padding-top":x(_(t,"padding-top")),"padding-right":x(_(t,"padding-right")),"padding-bottom":x(_(t,"padding-bottom")),"padding-left":x(_(t,"padding-left"))});if(t.text()!=""){t.css({width:"auto",height:"auto","line-height":x(_(t,"line-height"))+"px","letter-spacing":x(_(t,"letter-spacing")),"font-size":x(_(t,"font-size"))});if(t.width()>0){t.css("width",t.width())}if(t.height()>0){t.css("height",t.height())}}})});T()}function S(){var e=r.width();var t=n.startWidth;if(e>=t){d=1}else{d=e/t}}function x(e){return e*d}function T(){if(n.automaticSlide){H()}else{R(f)}}function N(){var t=r.find(i).find(s).find(o+":eq("+f+")");var n=t.find(u);r.find(i).find(s).find(o).each(function(){var t=e(this);t.finish();t.find(u).each(function(){var t=e(this);t.finish()})});j();h=false}function C(){var e=r.find(i).find(".cs-progress-bar");e.stop(true);c=true;if(!l){var t=r.find(i).find(s).find(o+":eq("+f+")");var n=t.children();t.finish();l=true}else{var u=setInterval(function(){if(c&&!l){clearInterval(u);c=false;C();return}if(!c){clearInterval(u);return}})}}function k(){c=false;var e=r.find(i).find(s).find(o+":eq("+f+")");var t=r.find(i).find(".cs-progress-bar");var n=D(e);var u=n-P(n,p);t.animate({width:"100%"},{duration:u,step:function(e){p=e},complete:function(){I(O())},easing:"linear"});l=false}function L(){return r.find(i).width()}function A(){return r.find(i).height()}function O(){if(f+1==a){return 0}return f+1}function M(){if(f-1<0){return a-1}return f-1}function _(e,t){var r;if(e.parent("ul").hasClass("cs-slides")){r=true}else{r=false}switch(t){case"ease-in":if(r){return isNaN(parseInt(e.data(t)))?n.slidesEaseIn:parseInt(e.data(t))}else{return isNaN(parseInt(e.data(t)))?n.elementsEaseIn:parseInt(e.data(t))}break;case"ease-out":if(r){return isNaN(parseInt(e.data(t)))?n.slidesEaseOut:parseInt(e.data(t))}else{return isNaN(parseInt(e.data(t)))?n.elementsEaseOut:parseInt(e.data(t))}break;case"delay":return isNaN(parseInt(e.data(t)))?n.elementsDelay:parseInt(e.data(t));break;case"time":if(r){return isNaN(parseInt(e.data(t)))?n.slidesTime:parseInt(e.data(t))}else{if(e.data(t)=="all"){return"all"}else{return isNaN(parseInt(e.data(t)))?n.itemsTime:parseInt(e.data(t))}}break;case"top":case"left":case"width":case"height":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"line-height":case"letter-spacing":case"font-size":return isNaN(parseFloat(e.data(t)))?0:parseFloat(e.data(t));break;case"in":case"out":return e.data(t);break;default:return false;break}}function D(e){return _(e,"time")+_(e,"ease-in")}function P(e,t){return t/100*e}function H(){q(f).done(function(){if(!l){f=O();N();H()}})}function B(e){var t=D(e);var n=r.find(i).find(".cs-progress-bar");j();n.animate({width:"100%"},{duration:t,step:function(e){p=e},easing:"linear"})}function j(){var e=r.find(i).find(".cs-progress-bar");p=0;e.stop();e.css({width:"0%"})}function F(){var t=r.find(i).find(".cs-navigation");var n=t.find("> .cs-slide-link");n.each(function(){var t=e(this);if(t.index()==f){t.addClass("cs-active")}else{t.removeClass("cs-active")}})}function I(e){var t=r.find(i).find(s).find(o+":eq("+f+")");var n=t.children();N();U(f,false);f=e;T()}function q(t){var n=r.find(i).find(s).find(o+":eq("+t+")");var u=new e.Deferred;B(n);F();R(t).done(function(){h=true});U(t,true).done(function(){u.resolve()});return u.promise()}function R(t){var n=r.find(i).find(s).find(o+":eq("+t+")");var u=n.children();var a=0;var f=new e.Deferred;in_dealy=false;z(n).done(function(){a++;if(a==2){f.resolve()}});u.each(function(){var t=e(this);X(t)}).promise().done(function(){a++;if(a==2){f.resolve()}});return f.promise()}function U(t,n){var u=r.find(i).find(s).find(o+":eq("+t+")");var a=u.children();var f=_(u,"time");var l=new e.Deferred;if(n){a.each(function(){var t=e(this);var n=_(t,"time");if(n!="all"){t.delay(n).queue(function(){e(this).dequeue();V(t)})}});u.delay(f).queue(function(){e(this).dequeue();h=false;l.resolve();W(u).done(function(){});a.each(function(){var t=e(this);var n=_(t,"time");if(n=="all"){t.delay(n).queue(function(){e(this).dequeue();V(t)})}})})}else{l.resolve();a.each(function(){var t=e(this);V(t)});W(u).done(function(){})}return l.promise()}function z(t){var n=_(t,"in");var r=_(t,"ease-in");var i=new e.Deferred;switch(n){case"fade":t.css({display:"block",top:0,left:0,opacity:0});t.animate({opacity:1},r,function(){i.resolve()});break;case"fadeLeft":t.css({display:"block",top:0,left:L(),opacity:0});t.animate({opacity:1,left:0},r,function(){i.resolve()});break;case"fadeRight":t.css({display:"block",top:0,left:-L(),opacity:0});t.animate({opacity:1,left:0},r,function(){i.resolve()});break;case"slideLeft":t.css({display:"block",top:0,left:L()});t.animate({left:0},r,function(){i.resolve()});break;case"slideRight":t.css({display:"block",top:0,left:-L()});t.animate({left:0},r,function(){i.resolve()});break;case"slideUp":t.css({display:"block",top:A(),left:0});t.animate({top:0},r,function(){i.resolve()});break;case"slideDown":t.css({display:"block",top:-A(),left:0});t.animate({top:0},r,function(){i.resolve()});break;default:t.css({display:"block",top:0,left:0});i.resolve();break}return i.promise()}function W(t){var n=_(t,"out");var r=_(t,"ease-out");var i=new e.Deferred;switch(n){case"fade":t.animate({opacity:0},r,function(){t.css({display:"none",opacity:1});i.resolve()});break;case"fadeLeft":t.animate({opacity:0,left:-L()},r,function(){t.css({display:"none",opacity:1,left:0});i.resolve()});break;case"fadeRight":t.animate({opacity:0,left:L()},r,function(){t.css({display:"none",opacity:1,left:0});i.resolve()});break;case"slideLeft":t.animate({left:-L()},r,function(){t.css({display:"none",left:0});i.resolve()});break;case"slideRight":t.animate({left:L()},r,function(){t.css({display:"none",left:0});i.resolve()});break;case"slideUp":t.animate({top:-A()},r,function(){t.css({display:"none",top:0});i.resolve()});break;case"slideDown":t.animate({top:A()},r,function(){t.css({display:"none",top:0});i.resolve()});break;default:t.css({display:"none"});i.resolve();break}return i.promise()}function X(e){var t=e.outerWidth();var n=e.outerHeight();var r=_(e,"in");var i=_(e,"ease-in");var s=_(e,"delay");var o=_(e,"top");var u=_(e,"left");switch(r){case"slideDown":e.delay(s).css({display:"block",top:-n,left:x(u+w(e).left)}).animate({top:x(o+w(e).top)},i);break;case"slideUp":e.delay(s).css({display:"block",top:A(),left:x(u+w(e).left)}).animate({top:x(o+w(e).top)},i);break;case"slideLeft":e.delay(s).css({display:"block",top:x(o+w(e).top),left:L()}).animate({left:x(u+w(e).left)},i);break;case"slideRight":e.delay(s).css({display:"block",top:x(o+w(e).top),left:-t}).animate({left:x(u+w(e).left)},i);break;case"fade":e.delay(s).css({display:"block",top:x(o+w(e).top),left:x(u+w(e).left),opacity:0}).animate({opacity:1},i);break;case"fadeDown":e.delay(s).css({display:"block",top:-n,left:x(u+w(e).left),opacity:0}).animate({top:x(o+w(e).top),opacity:1},i);break;case"fadeUp":e.delay(s).css({display:"block",top:A(),left:x(u+w(e).left),opacity:0}).animate({top:x(o+w(e).top),opacity:1},i);break;case"fadeLeft":e.delay(s).css({display:"block",top:x(o+w(e).top),left:L(),opacity:0}).animate({left:x(u+w(e).left),opacity:1},i);break;case"fadeRight":e.delay(s).css({display:"block",top:x(o+w(e).top),left:-t,opacity:0}).animate({left:x(u+w(e).left),opacity:1},i);break;case"fadeSmallDown":e.delay(s).css({display:"block",top:x(o+w(e).top-30),left:x(u+w(e).left),opacity:0}).animate({top:x(o+w(e).top),opacity:1},i);break;case"fadeSmallUp":e.delay(s).css({display:"block",top:x(o+w(e).top+30),left:x(u+w(e).left),opacity:0}).animate({top:x(o+w(e).top),opacity:1},i);break;case"fadeSmallLeft":e.delay(s).css({display:"block",top:x(o+w(e).top),left:x(u+w(e).left+30),opacity:0}).animate({left:x(u+w(e).left),opacity:1},i);break;case"fadeSmallRight":e.delay(s).css({display:"block",top:x(o+w(e).top),left:x(u+w(e).left-30),opacity:0}).animate({left:x(u+w(e).left),opacity:1},i);break}}function V(e){var t=e.outerWidth();var n=e.outerHeight();var r=_(e,"top");var i=_(e,"left");var s=_(e,"out");var o=_(e,"ease-out");switch(s){case"slideDown":e.animate({top:A()},o,function(){e.css({display:"none"})});break;case"slideUp":e.animate({top:-n},o,function(){e.css({display:"none"})});break;case"slideLeft":e.animate({left:-t},o,function(){e.css({display:"none"})});break;case"slideRight":e.animate({left:L()},o,function(){e.css({display:"none"})});break;case"fade":e.animate({opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeDown":e.animate({top:A(),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeUp":e.animate({top:-n,opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeLeft":e.animate({left:-t,opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeRight":e.animate({left:L(),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallDown":e.animate({top:x(_(e,"top")+w(e).top+30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallUp":e.animate({top:x(_(e,"top")+w(e).top-30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallLeft":e.animate({left:x(_(e,"left")+w(e).left-30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break;case"fadeSmallRight":e.animate({left:x(_(e,"left")+w(e).left+30),opacity:0},o,function(){e.css({display:"none",opacity:1})});break}}var r=e(t);var i="div.crellyslider";var s="ul.cs-slides";var o="li.cs-slide";var u="> *";var a;var f=0;var l=false,c=false;var h=false;var p=0;var d=1;v()};e.fn.crellySlider=function(n){var r=e.extend({layout:"fixed",responsive:true,startWidth:1170,startHeight:500,pauseOnHover:true,automaticSlide:true,showControls:true,showNavigation:true,showProgressBar:true,slidesTime:3e3,elementsDelay:0,elementsTime:"all",slidesEaseIn:300,elementsEaseIn:300,slidesEaseOut:300,elementsEaseOut:300},n);return this.each(function(){new t(this,r)})}})(jQuery)